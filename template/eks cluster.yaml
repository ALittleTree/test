AWSTemplateFormatVersion: 2010-09-09
Description: This CF template creates EKS cluster
Parameters:
  EKSClusterName:
    Type: String
    Default: EKSClusterName
    Description: EKS Cluster Name
  RoleArn:
    Type: String
    Default: RoleArn
    Description: the role arn for this eks
Resources:
  EKSCluster:
      Type: AWS::EKS::Cluster
      Properties:
        Name: !Ref EKSClusterName
        Version: "1.20"
        RoleArn: !Ref RoleArn
        ResourcesVpcConfig:
          SecurityGroupIds:
            - sg-6979fe18
          SubnetIds:
            - subnet-6782e71e
            - subnet-e7e761ac
          EndpointPublicAccess: false
          EndpointPrivateAccess: true
        Logging:
          ClusterLogging:
            EnabledTypes:
              - Type: api
              - Type: audit
        Tags:
          - Key: "key"
            Value: "val"
